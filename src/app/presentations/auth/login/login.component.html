<!-- login.component.html -->
<div
	class="flex items-center justify-center h-screen w-screen bg-black relative overflow-hidden"
	(mousemove)="onMouseMove($event)"
>
	<!-- Content Container -->
	<div class="relative z-50 flex flex-col items-center">
		<!-- Card with micro-interactions -->
		<p-card
			class="w-full max-w-md bg-white rounded-2xl shadow-white shadow-2xl transform transition-transform duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-100 cursor-pointer"
			[style.transform]="
				'perspective(1000px) rotateX(' +
				-mouseY / 20 +
				'deg) rotateY(' +
				mouseX / 20 +
				'deg)'
			"
		>
			<!-- Title Slot -->
			<ng-template pTemplate="title">
				<div class="flex items-center gap-3 p-8">
					<img
						src="logo.png"
						alt="Druk Cinema Logo"
						class="w-20 rounded-full border-4 border-purple-500 transform transition-transform duration-300 hover:rotate-12 hover:scale-110"
					/>
					<div>
						<p class="text-2xl font-extrabold text-gray-800">
							{{ APPNAME }}
						</p>
						<p class="text-sm font-thin">
							Redefining cinmena experience in bhutan.
						</p>
					</div>
				</div>
			</ng-template>

			<!-- Content Slot -->
			<ng-template pTemplate="content">
				<p class="text-center mb-2 animate-fade-in text-xl font-normal text0">
					Welcome | <span class="text-purple-700"> Login</span>
				</p>

				<!-- Error Message -->
				<div
					*ngIf="errorMessage"
					class="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg"
				>
					<i class="pi pi-exclamation-triangle mr-2"></i>
					{{ errorMessage }}
				</div>

				<form
					[formGroup]="loginForm"
					(ngSubmit)="login()"
					class="flex flex-col gap-5 px-8 pb-8"
				>
					<div class="flex flex-col">
						<label
							for="phoneNumber"
							class="mb-1 text-sm font-medium text-gray-700"
						>
							Phone Number
						</label>
						<input
							id="phoneNumber"
							type="number"
							pInputText
							formControlName="phoneNumber"
							placeholder="Enter your phone number"
							class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-colors"
							[class.border-red-500]="hasFieldError('phoneNumber')"
						/>
						<small
							*ngIf="hasFieldError('phoneNumber')"
							class="text-red-500 mt-1"
						>
							{{ getFieldError("phoneNumber") }}
						</small>
					</div>

					<div class="flex flex-col w-full">
						<label
							for="password"
							class="mb-1 text-sm font-medium text-gray-700"
						>
							Password
						</label>
						<p-password
							id="password"
							formControlName="password"
							toggleMask
							[feedback]="false"
							placeholder="Enter your password"
							styleClass="w-full"
							[fluid]="true"
							[class.ng-invalid]="hasFieldError('password')"
						></p-password>
						<small *ngIf="hasFieldError('password')" class="text-red-500 mt-1">
							{{ getFieldError("password") }}
						</small>
					</div>

					<p-button
						type="submit"
						label="Login"
						icon="pi pi-sign-in"
						[loading]="isLoading"
						[disabled]="loginForm.invalid || isLoading"
						fluid="true"
					></p-button>

					<!-- Footer Links -->
					<div class="mt-6 text-center text-sm text-gray-400 space-x-2">
						<a
							routerLink="/"
							class="text-indigo-500 hover:underline hover:text-indigo-600 transition-colors"
							>Home Page</a
						>
						<!-- <span><br /></span>
						<a
							routerLink="/register"
							class="text-indigo-500 hover:underline hover:text-indigo-600 transition-colors"
							>Are you a producer? movie director? Request access</a
						> -->
					</div>
				</form>
			</ng-template>
		</p-card>
	</div>

	<!-- Background Circles with Parallax -->
	<div
		class="absolute -top-[30%] -left-[30%] h-[1400px] w-[1400px] rounded-full filter blur-3xl"
		[ngStyle]="getTopCircleStyle()"
		style="
			background: radial-gradient(
				circle at center,
				#6f1c76bc 0%,
				transparent 70%
			);
		"
	></div>

	<div
		class="absolute -bottom-[30%] -right-[30%] h-[1400px] w-[1400px] rounded-full filter blur-3xl"
		[ngStyle]="getBottomCircleStyle()"
		style="
			background: radial-gradient(
				circle at center,
				#461ca8c4 0%,
				transparent 70%
			);
		"
	></div>
</div>
